<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SAT Akses via HP</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #ff4d4d, #ffe6e6);
      color: #333;
    }

    header {
      background-color: white;
      text-align: center;
      padding: 10px 0;
      border-bottom: 3px solid #cc0000;
    }

    header img {
      height: 60px;
    }

    main {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }

    .input-group {
      margin-bottom: 15px;
    }

    input {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: 2px solid #ccc;
      border-radius: 10px;
    }

    button {
      width: 100%;
      padding: 12px;
      background-color: #cc0000;
      color: white;
      font-weight: bold;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-bottom: 20px;
    }

    .btn-reset {
      background-color: gray;
      margin-top: 10px;
    }

    .link-list {
      list-style: none;
      padding: 0;
    }

    .link-list li {
      margin-bottom: 12px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }

    .link-list a {
      display: block;
      padding: 15px;
      font-weight: bold;
      text-decoration: none;
      color: white;
    }

    .inactive {
      pointer-events: none;
      filter: grayscale(100%);
      opacity: 0.5;
    }

    .link1 { background-color: #e74c3c; }
    .link2 { background-color: #8e44ad; }
    .link3 { background-color: #2980b9; }
    .link4 { background-color: #16a085; }
    .link5 { background-color: #d35400; }
    .link6 { background-color: #27ae60; }
    .link7 { background-color: #2c3e50; }
    .link8 { background-color: #7f8c8d; }

    footer {
      text-align: center;
      padding: 20px;
      font-size: 14px;
      color: #777;
    }
  </style>
</head>
<body>

  <header>
    <img src="https://i.postimg.cc/KjNvb7qR/images-4.jpg" alt="Logo Alfamart">
  </header>

  <main>
    <div id="formInput">
      <div class="input-group">
        <input type="text" id="branch" placeholder="Masukkan Branch (contoh: PZ01)" required>
      </div>
      <div class="input-group">
        <input type="text" id="kodeToko" placeholder="Masukkan Kode Toko (contoh: PB48)" required>
      </div>
      <div class="input-group">
        <input type="text" id="nik" placeholder="Masukkan NIK Karyawan (contoh: 22088181)" required>
      </div>
      <button onclick="simpanData()">Tampilkan Link</button>
    </div>

    <ul class="link-list" id="linkList" style="display:none;">
      <li><a href="https://intranet.sat.co.id/humancapital/public/index/mainmenu" target="_blank" class="link1">1. Human Capital</a></li>
      <li><a href="https://intranet.sat.co.id/rrak/public/" target="_blank" class="link2">2. RRAK</a></li>
      <li><a href="https://intranet.sat.co.id/bst_online/signin" target="_blank" class="link3">3. BST Online</a></li>
      <li><a href="https://intranet.sat.co.id/koperasi/public/" target="_blank" class="link4">4. KOPKAR</a></li>
      <li><a href="https://hosokartoko0201.sat.co.id" target="_blank" class="link5">5. SO Karyawan</a></li>
      <li><a href="https://intranet.sat.co.id/st/public/so/atm" target="_blank" class="link6">6. SO ATM / Tenant</a></li>
      <li><a href="#" id="psmLink" target="_blank" class="link7 inactive">7. PSM</a></li>
      <li><a href="#" id="voidLink" target="_blank" class="link8 inactive">8. VOID TRX Khusus Pejabat Toko</a></li>
    </ul>

    <button class="btn-reset" onclick="resetData()" id="resetBtn" style="display:none;">Ganti Data</button>
  </main>

  <footer>
    Â© 2025 Satria Dwi Yansah
  </footer>

  <script>
    function simpanData() {
      const branch = document.getElementById('branch').value.trim();
      const kodeToko = document.getElementById('kodeToko').value.trim();
      const nik = document.getElementById('nik').value.trim();

      if (!branch || !kodeToko || !nik) {
        alert("Semua kolom wajib diisi!");
        return;
      }

      localStorage.setItem("branch", branch);
      localStorage.setItem("kodeToko", kodeToko);
      localStorage.setItem("nik", nik);

      tampilkanLink(branch, kodeToko, nik);
    }

    function tampilkanLink(branch, kodeToko, nik) {
      const base = "https://intranet.sat.co.id";
      const param = `/index/index/KD_TOKO/${kodeToko}/KD_BRANCH/${branch}/r/63917/c/eaf202df07ab00472fbae1d3a845be72/e/250922/j/105800/nk/${nik}`;

      document.getElementById('psmLink').href = `${base}/pdmstore/public${param}`;
      document.getElementById('voidLink').href = `${base}/otp/public${param}`;
      document.getElementById('psmLink').classList.remove("inactive");
      document.getElementById('voidLink').classList.remove("inactive");

      document.getElementById('formInput').style.display = "none";
      document.getElementById('linkList').style.display = "block";
      document.getElementById('resetBtn').style.display = "block";
    }

    function resetData() {
      localStorage.clear();
      location.reload();
    }

    // Saat halaman dibuka, cek apakah sudah ada data
    window.onload = () => {
      const branch = localStorage.getItem("branch");
      const kodeToko = localStorage.getItem("kodeToko");
      const nik = localStorage.getItem("nik");

      if (branch && kodeToko && nik) {
        tampilkanLink(branch, kodeToko, nik);
      }
    };
  </script>

</body>
</html>
